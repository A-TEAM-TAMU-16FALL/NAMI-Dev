=render :partial=>'layouts/banner'
=javascript_include_tag "filter.js"


#page-title.container-fluid.titleLine
	%h2 Report
		
#mainbody.container-fluid
	%h3 Report Creator
	%label#ReportId{:style=>'display:none'}=@report.id
	.panel-group
		.panel.panel-default
			.panel-heading{:style => "font-size:20px;"} Info
			=form_for @report, :method=>'put', :html => {:id => 'info_edit', :role => 'form'} do |r|
				.form-group
					.row
						.col-md-3
							=r.label :title,'Title:'
							=r.text_field :title, :class => 'form-control', :id => 'title'
					.row
						.col-md-3
							=r.label :created_by, 'Creator:' 
							=r.text_field :created_by, :class => 'form-control', :id => 'created_by'
					.row
						.col-md-5
							=r.label :description, 'Description:' 
							=r.text_area :description, :class => 'form-control', :id => 'description'
					.row
						.col-md-1{:style => ""}
							=r.submit class: 'btn btn-primary'
						.col-md-1
							=link_to "Reset", '#', type: :resetm, class: 'btn btn-default'
						.col-md-1
							=link_to "Back", reports_path, class: 'btn btn-default'
			#filter-panel.panel.panel-default{:style => "margin-bottom:50px;margin-top:10px;"}
				.panel-heading{:style => "font-size:20px;"} Fields
				%table#filter_tab.table.table-hover.clickable-row{:style => "width:100%;margin-top:10px;", :data => {:id => @report.id}}
					%thead{:style => "width:100%"}
						%tr{:style => "width:100%"}
							- @report_filter.each_pair do |key, val|
								%th{:width => val}
									= key
					%tbody
						- @filters.each do |filter|
							%tr{:data => {:id => filter.id}}
								%td
									= filter.table_name
								%td
									= filter.field_name
								%td
									= filter.value
								%td
									= filter.min_value
								%td
									= filter.max_value
								%td
									= filter.min_date
								%td
									= filter.max_date
			.button-line.bottom-right-info-bar{:style => "padding:0"}
				=link_to "Add", "#filter_tab", class: 'btn btn-success', id: "add"
				=link_to "Edit", "#filter_tab", class: 'btn btn-info', id: "edit"
				%button.btn.btn-danger#delete{type:'button'} Delete
				=link_to "Back", reports_path, class: 'btn btn-primary'
			=javascript_include_tag "filter.js"
			/
				.panel.panel-danger{:style => "margin-top:40px;"}
					.panel-heading{:style => "font-size:20px;"} Fields
					%form{:id => 'fields', :role => "form"}
						#three-box-step.form-group
							.row
								.col-md-3
									%h5
										%span.list-title 1) Tables
									%select.form-control{:id => "tables",:multiple => "", :style => "height: 200px; width: 100%; margin-top: 10px"}
										%option{:value => "1"} Donor
										%option{:value => "2"} Orgnization
										%option{:value => "3"} Contact
										%option{:value => "4"} Finance
										%option{:value => "5"} Contact Person
								.col-md-4
									%h5
										%span.list-title 2) Available Fields
										%select.unselected.fields.form-control{:id => "availablefields", :multiple => "", :style => "height: 200px; width: 100%; margin-top: 10px"}
								.col-md-4
									%h5
										%span.list-title 3) Filter
										.form-group{:style => 'margin-top:10px;margin-left:20px;'}
											.row
												.col-md-3#filter
												.col-md-1.pull-right{:style => 'margin-top:160px'}
							.row
								.col-md-5
									%h5
										%span.list-title 4) Criteria Fields